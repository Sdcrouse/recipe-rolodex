<% if logged_in? %>
  <% if @user == current_user %>
    <h2>Welcome to your kitchen, Chef <%= @user.username %>!</h2>
    <!-- Add a flash message here. Only display flash[:login] if flash[:signup] is blank. -->
    <% if !flash[:login].blank? %>
      <%= flash[:login] %>
    <% end %>

    <!-- Be careful with this; the first time I started this up and logged in, it said that I was NOT logged in. -->
    <!-- Somehow, the flash[:login] message got carried over from the "get '/'" route. -->
    <!-- That may have been an edge case, since it worked fine after I logged out and signed in as another user. -->
    <!-- UPDATE: This should no longer be the case, now that there is a new flash message for signing in. -->
  <% else %>
    <h2>Chef <%= @user.username %>'s kitchen</h2>
  <% end %>

  <% if @user == current_user %>
    <p>
      <ul>
        <li>Username: <%= @user.username %></li>
        <li>E-mail: <%= @user.email %></li>
      </ul>
    </p>
  <% end %>

  <p>
    <ul>
      <% if @user == current_user %>
        Your recipes:
      <% else %>
        Chef <%= @user.username %>'s recipes:
      <% end %>

      <% if @user.recipes.empty? %>
        No recipes yet
      <% else %> <!-- Display @user's recipes and link to each recipe's page. -->
        <% @user.recipes.each do |recipe| %>
          <li><a href="/recipes/<%= recipe.id %>"><%= recipe.name %></a></li>
        <% end %>
      <% end %>
    </ul>
  </p>
<% else %> <!-- This is an edge case. -->
  <h2>Oops! You are not signed in. <a href="/users/login">Click here to log in.</a></h2>
<% end %> <!-- End of "if logged_in?" -->
